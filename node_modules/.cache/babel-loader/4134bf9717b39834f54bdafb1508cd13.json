{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase/config';\n\nconst useFirestore = collection => {\n  const [docs, setDocs] = useState([]);\n  useEffect(() => {\n    const unsub = projectFirestore.collection(collection).orderBy('createdAt', 'desc').onSnapshot(snap => {\n      let documents = [];\n      snap.forEach(doc => {\n        documents.push({ ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocs(documents);\n    });\n    return () => unsub();\n  }, [collection]);\n  return {\n    docs\n  };\n};\n\nexport default useFirestore;","map":{"version":3,"sources":["C:/Users/rumen/Documents/GitHub/Octane/src/hooks/useFirestore.js"],"names":["useState","useEffect","projectFirestore","useFirestore","collection","docs","setDocs","unsub","orderBy","onSnapshot","snap","documents","forEach","doc","push","data","id"],"mappings":"AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,MAAMC,YAAY,GAAIC,UAAD,IAAgB;AACjC,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBN,QAAQ,CAAC,EAAD,CAA/B;AAEAC,EAAAA,SAAS,CAAC,MAAK;AACX,UAAMM,KAAK,GAAGL,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EACbI,OADa,CACL,WADK,EACO,MADP,EAEbC,UAFa,CAEDC,IAAD,IAAQ;AAChB,UAAIC,SAAS,GAAG,EAAhB;AACAD,MAAAA,IAAI,CAACE,OAAL,CAAaC,GAAG,IAAG;AACfF,QAAAA,SAAS,CAACG,IAAV,CAAe,EAAC,GAAGD,GAAG,CAACE,IAAJ,EAAJ;AAAeC,UAAAA,EAAE,EAAEH,GAAG,CAACG;AAAvB,SAAf;AACH,OAFD;AAGAV,MAAAA,OAAO,CAACK,SAAD,CAAP;AACH,KARa,CAAd;AAUA,WAAO,MAAMJ,KAAK,EAAlB;AAEH,GAbQ,EAaP,CAACH,UAAD,CAbO,CAAT;AAeA,SAAO;AAACC,IAAAA;AAAD,GAAP;AACH,CAnBD;;AAqBA,eAAeF,YAAf","sourcesContent":["import {useState, useEffect} from 'react';\r\nimport { projectFirestore } from '../firebase/config';\r\n\r\nconst useFirestore = (collection) => {\r\n    const [docs,setDocs] = useState([]);\r\n\r\n    useEffect(() =>{\r\n        const unsub = projectFirestore.collection(collection)\r\n        .orderBy('createdAt','desc')\r\n        .onSnapshot((snap)=>{\r\n            let documents = [];\r\n            snap.forEach(doc =>{\r\n                documents.push({...doc.data(),id: doc.id})\r\n            });\r\n            setDocs(documents);\r\n        });\r\n\r\n        return () => unsub();\r\n\r\n    },[collection])\r\n\r\n    return {docs};\r\n}\r\n\r\nexport default useFirestore;"]},"metadata":{},"sourceType":"module"}